
{% extends "demo9.base.html.twig" %}

{% block title %}Proposition index{% endblock %}

{% block body %}
    {% block mainheader %}
    {{ parent() }}  
    {% endblock %}

    {% block content %}

<div class="main-panel">
			<div class="container">
				<div class="page-inner page-inner-fill">
					
                    <br>
					<!-- Customized Card -->
					<div class="page-navs bg-white py-3 pr-2">
							<div class="card-title fw-bold" > Propositions : ({{ propositions.getTotalItemCount }}) elements</div>
					 </div>
					 <hr Style="width: 100%; height: 4px; background: #f3f3f3;" />
								<div class="d-flex justify-content-between ">
									<div class="d-md-inline-block ">
										<form>
											<div class="input-group">
												<div class="input-group-prepend">
													<button type="submit" class="btn btn-icon btn-black btn-search">
														<i class="fa fa-search search-icon"></i>
													</button>
												</div>
												<input type="text" class="form-control" aria-label="Text input with dropdown button" name="q" value="{{ app.request.query.get('q') }}">
												<div class="input-group-append">
													<button class="btn btn-primary btn-border  dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Filter</button>
													<div class="dropdown-menu">
														<a class="dropdown-item" href="#">Date</a>
														<a class="dropdown-item" href="#">Nom</a>
														<div role="separator" class="dropdown-divider"></div>
														<a class="dropdown-item" href="#">Statut </a>
													</div>
												</div>
											</div>
										</form>
									</div>
									<button type="button" class="btn btn-black" data-toggle="modal" data-target="#addRowModal" >
										<i class="fa fa-plus"></i>
										Nouvelle proposition
									</button>
						</div>
             <div>
				</div>
									 <hr Style="width: 100%; height: 4px; background: #f3f3f3;" />

 					<div class="row">
					 
					 {% if propositions.getTotalItemCount != 0 %}
 
							{% for proposition in propositions %}

									{% if app.user.id == proposition.PropositionUserId  %}
										
									
									
									
											{% set ActionsBtns = { ActionModifier: { Title: "Modifier", url: path('proposition_edit', {'id': proposition.id}) },
																					ActionSuprimer: { Title: "Suprimer", url: include('proposition/_delete_form.html.twig') }, 
																					} 
											%}
											{% set Style = 'border: 1px dashed; border-top: 7px solid;' %} 
											{% set faClass = 'far fa-edit' %}
										
									{% else %}                                    
											{% set ActionsBtns = '' %}	
											{% set faClass = 'fa-star' %}
											{% set Style = '' %}
									{% endif %}			 
											<div class="col-md-4">
												<div class="card card-post card-round">
													<div class="card-body">
														<div class="d-flex">
															<div class="avatar">
															<img src="https://avatars.dicebear.com/v2/initials/{{ proposition.CreatedBy_lastName }}%20{{ proposition.CreatedBy_firstName }}.svg" alt="créé par"  title="créé par" class="avatar-img rounded-circle">
															</div>
															<div class="info-post ml-2">
																<p class="username">{{ proposition.CreatedBy_lastName }} {{ proposition.CreatedBy_firstName }}</p>
																<p class="date text-muted"> {{ proposition.dateCreation ? proposition.dateCreation|date('Y-m-d') : '' }}</p>
															</div>
														</div>
														<div class="separator-solid"></div>
														
														<p class="card-category text-info mb-1">
															<span class="text-success  rounded-circle border border-black"> valide</span>

														<h3 class="card-title">
																<a class="kanban-title" href="{{ path('proposition_show', {'id': proposition.id}) }}">
																<B>{{ proposition.titre }}</B></a>
														</h3>
														<div class="avatar-group">
															<div class="avatar avatar-xs">
																<img src="https://avatars.dicebear.com/v2/initials/{{ proposition.CreatedBy_lastName }}%20{{ proposition.CreatedBy_firstName }}.svg" alt="..." class="avatar-img rounded-circle border border-white">
															</div>
															<div class="avatar avatar-xs">
																<img src="https://avatars.dicebear.com/v2/initials/{{ proposition.CreatedBy_lastName }}%20{{ proposition.CreatedBy_firstName }}.svg" alt="..." class="avatar-img rounded-circle border border-white">
															</div>
															<div class="avatar avatar-xs">
																<img src="https://avatars.dicebear.com/v2/initials/{{ proposition.CreatedBy_lastName }}%20{{ proposition.CreatedBy_firstName }}.svg" alt="..." class="avatar-img rounded-circle border border-white">
															</div>
															<div class="avatar avatar-xs">
																<span class="avatar-title rounded-circle border border-white">21</span>
															</div>
														</div>
														<p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
														<a href="#" class="btn btn-primary btn-rounded btn-sm">Read More</a>
														{% for action in ActionsBtns %}
																<a href="{{  action.url }}" class="btn"> {{ action.Title }} </a>
														{% endfor %}
													</div>
												</div>
											</div>
									


									
							{% endfor %}	
							
					
						
					</div>

							{% else %}                                    
					
					<div class="col-md-4">
					    <div class="card card-post card-round">
						   <div class="card-body">
						   <p class="text-danger"> Aucune proposition trouvée </p>
						   </div>
						</div>
					</div>
					{% endif %}	

					
				</div>

				<div class="mt-1 mb-2">
								

								<ul class="pagination justify-content-center mb-5 mb-sm-0">	
								<p class="text-muted"> Affiche 1 à 10 de {{ propositions.getTotalItemCount }} entrées  </p>							
									<li class="page-item">
										{{ knp_pagination_render(propositions, null, {}, {
											'position': 'right',
											'size': 'small',
											'rounded': true,
										}) }}
									</li>								
								</ul>
					</div>
			</div>
			
		</div>

























	{% block footer %}
      {{ parent() }}  
    {% endblock %}


    {% block javascripts %}
            {{ parent() }}
    {% endblock %}


   



           
           
  {% endblock %}

    


{% endblock %}